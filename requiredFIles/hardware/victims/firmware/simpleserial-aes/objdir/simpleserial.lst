   1               		.file	"simpleserial.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__CCP__ = 0x34
   7               	__tmp_reg__ = 0
   8               	__zero_reg__ = 1
   9               		.text
  10               	.Ltext0:
  11               		.cfi_sections	.debug_frame
  12               	.global	check_version
  14               	check_version:
  15               	.LVL0:
  16               	.LFB12:
  17               		.file 1 ".././simpleserial/simpleserial.c"
   1:.././simpleserial/simpleserial.c **** // simpleserial.c
   2:.././simpleserial/simpleserial.c **** 
   3:.././simpleserial/simpleserial.c **** #include "simpleserial.h"
   4:.././simpleserial/simpleserial.c **** #include <stdint.h>
   5:.././simpleserial/simpleserial.c **** #include "hal.h"
   6:.././simpleserial/simpleserial.c **** 
   7:.././simpleserial/simpleserial.c **** typedef struct ss_cmd
   8:.././simpleserial/simpleserial.c **** {
   9:.././simpleserial/simpleserial.c **** 	char c;
  10:.././simpleserial/simpleserial.c **** 	unsigned int len;
  11:.././simpleserial/simpleserial.c **** 	uint8_t (*fp)(uint8_t*);
  12:.././simpleserial/simpleserial.c **** } ss_cmd;
  13:.././simpleserial/simpleserial.c **** 
  14:.././simpleserial/simpleserial.c **** #define MAX_SS_CMDS 16
  15:.././simpleserial/simpleserial.c **** static ss_cmd commands[MAX_SS_CMDS];
  16:.././simpleserial/simpleserial.c **** static int num_commands = 0;
  17:.././simpleserial/simpleserial.c **** 
  18:.././simpleserial/simpleserial.c **** #define MAX_SS_LEN 64
  19:.././simpleserial/simpleserial.c **** 
  20:.././simpleserial/simpleserial.c **** #define SS_VER_1_0 0
  21:.././simpleserial/simpleserial.c **** #define SS_VER_1_1 1
  22:.././simpleserial/simpleserial.c **** 
  23:.././simpleserial/simpleserial.c **** static char hex_lookup[16] =
  24:.././simpleserial/simpleserial.c **** {
  25:.././simpleserial/simpleserial.c **** 	'0', '1', '2', '3', '4', '5', '6', '7',
  26:.././simpleserial/simpleserial.c **** 	'8', '9', 'A', 'B', 'C', 'D', 'E', 'F'
  27:.././simpleserial/simpleserial.c **** };
  28:.././simpleserial/simpleserial.c **** 
  29:.././simpleserial/simpleserial.c **** int hex_decode(int len, char* ascii_buf, uint8_t* data_buf)
  30:.././simpleserial/simpleserial.c **** {
  31:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < len; i++)
  32:.././simpleserial/simpleserial.c **** 	{
  33:.././simpleserial/simpleserial.c **** 		char n_hi = ascii_buf[2*i];
  34:.././simpleserial/simpleserial.c **** 		char n_lo = ascii_buf[2*i+1];
  35:.././simpleserial/simpleserial.c **** 
  36:.././simpleserial/simpleserial.c **** 		if(n_lo >= '0' && n_lo <= '9')
  37:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
  38:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'A' && n_lo <= 'F')
  39:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
  40:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'a' && n_lo <= 'f')
  41:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
  42:.././simpleserial/simpleserial.c **** 		else
  43:.././simpleserial/simpleserial.c **** 			return 1;
  44:.././simpleserial/simpleserial.c **** 
  45:.././simpleserial/simpleserial.c **** 		if(n_hi >= '0' && n_hi <= '9')
  46:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
  47:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'A' && n_hi <= 'F')
  48:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
  49:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
  50:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
  51:.././simpleserial/simpleserial.c **** 		else
  52:.././simpleserial/simpleserial.c **** 			return 1;
  53:.././simpleserial/simpleserial.c **** 	}
  54:.././simpleserial/simpleserial.c **** 
  55:.././simpleserial/simpleserial.c **** 	return 0;
  56:.././simpleserial/simpleserial.c **** }
  57:.././simpleserial/simpleserial.c **** 
  58:.././simpleserial/simpleserial.c **** // Callback function for "v" command.
  59:.././simpleserial/simpleserial.c **** // This can exist in v1.0 as long as we don't actually send back an ack ("z")
  60:.././simpleserial/simpleserial.c **** uint8_t check_version(uint8_t* v)
  61:.././simpleserial/simpleserial.c **** {
  18               		.loc 1 61 1 view -0
  19               		.cfi_startproc
  20               	/* prologue: function */
  21               	/* frame size = 0 */
  22               	/* stack size = 0 */
  23               	.L__stack_usage = 0
  62:.././simpleserial/simpleserial.c **** 	return SS_VER;
  24               		.loc 1 62 2 view .LVU1
  63:.././simpleserial/simpleserial.c **** }
  25               		.loc 1 63 1 is_stmt 0 view .LVU2
  26 0000 81E0      		ldi r24,lo8(1)
  27               	.LVL1:
  28               	/* epilogue start */
  29               		.loc 1 63 1 view .LVU3
  30 0002 0895      		ret
  31               		.cfi_endproc
  32               	.LFE12:
  34               	.global	hex_decode
  36               	hex_decode:
  37               	.LVL2:
  38               	.LFB11:
  30:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < len; i++)
  39               		.loc 1 30 1 is_stmt 1 view -0
  40               		.cfi_startproc
  41               	/* prologue: function */
  42               	/* frame size = 0 */
  43               	/* stack size = 0 */
  44               	.L__stack_usage = 0
  30:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < len; i++)
  45               		.loc 1 30 1 is_stmt 0 view .LVU5
  46 0004 9C01      		movw r18,r24
  47 0006 FA01      		movw r30,r20
  31:.././simpleserial/simpleserial.c **** 	{
  48               		.loc 1 31 2 is_stmt 1 view .LVU6
  49               	.LBB2:
  31:.././simpleserial/simpleserial.c **** 	{
  50               		.loc 1 31 6 view .LVU7
  51               	.LVL3:
  31:.././simpleserial/simpleserial.c **** 	{
  52               		.loc 1 31 6 is_stmt 0 view .LVU8
  53 0008 DB01      		movw r26,r22
  31:.././simpleserial/simpleserial.c **** 	{
  54               		.loc 1 31 10 view .LVU9
  55 000a 50E0      		ldi r21,0
  56 000c 40E0      		ldi r20,0
  57               	.LVL4:
  58               	.L3:
  31:.././simpleserial/simpleserial.c **** 	{
  59               		.loc 1 31 17 is_stmt 1 discriminator 1 view .LVU10
  31:.././simpleserial/simpleserial.c **** 	{
  60               		.loc 1 31 2 is_stmt 0 discriminator 1 view .LVU11
  61 000e 4217      		cp r20,r18
  62 0010 5307      		cpc r21,r19
  63 0012 04F0      		brlt .L13
  64               	.LBE2:
  55:.././simpleserial/simpleserial.c **** }
  65               		.loc 1 55 9 view .LVU12
  66 0014 90E0      		ldi r25,0
  67 0016 80E0      		ldi r24,0
  68               	/* epilogue start */
  56:.././simpleserial/simpleserial.c **** 
  69               		.loc 1 56 1 view .LVU13
  70 0018 0895      		ret
  71               	.L13:
  72               	.LBB5:
  73               	.LBB3:
  33:.././simpleserial/simpleserial.c **** 		char n_lo = ascii_buf[2*i+1];
  74               		.loc 1 33 3 is_stmt 1 view .LVU14
  33:.././simpleserial/simpleserial.c **** 		char n_lo = ascii_buf[2*i+1];
  75               		.loc 1 33 8 is_stmt 0 view .LVU15
  76 001a 8C91      		ld r24,X
  77               	.LVL5:
  34:.././simpleserial/simpleserial.c **** 
  78               		.loc 1 34 3 is_stmt 1 view .LVU16
  34:.././simpleserial/simpleserial.c **** 
  79               		.loc 1 34 8 is_stmt 0 view .LVU17
  80 001c 1196      		adiw r26,1
  81 001e 9C91      		ld r25,X
  82 0020 1197      		sbiw r26,1
  83               	.LVL6:
  36:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
  84               		.loc 1 36 3 is_stmt 1 view .LVU18
  36:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
  85               		.loc 1 36 18 is_stmt 0 view .LVU19
  86 0022 60ED      		ldi r22,lo8(-48)
  87 0024 690F      		add r22,r25
  36:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - '0';
  88               		.loc 1 36 5 view .LVU20
  89 0026 6A30      		cpi r22,lo8(10)
  90 0028 00F4      		brsh .L4
  37:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'A' && n_lo <= 'F')
  91               		.loc 1 37 4 is_stmt 1 view .LVU21
  37:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'A' && n_lo <= 'F')
  92               		.loc 1 37 16 is_stmt 0 view .LVU22
  93 002a 6083      		st Z,r22
  94               	.LVL7:
  95               	.L5:
  45:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
  96               		.loc 1 45 3 is_stmt 1 view .LVU23
  45:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
  97               		.loc 1 45 18 is_stmt 0 view .LVU24
  98 002c 90ED      		ldi r25,lo8(-48)
  99 002e 980F      		add r25,r24
  45:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - '0') << 4;
 100               		.loc 1 45 5 view .LVU25
 101 0030 9A30      		cpi r25,lo8(10)
 102 0032 00F4      		brsh .L9
  46:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'A' && n_hi <= 'F')
 103               		.loc 1 46 4 is_stmt 1 view .LVU26
  46:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'A' && n_hi <= 'F')
 104               		.loc 1 46 32 is_stmt 0 view .LVU27
 105 0034 8295      		swap r24
 106               	.LVL8:
  46:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'A' && n_hi <= 'F')
 107               		.loc 1 46 32 view .LVU28
 108 0036 807F      		andi r24,lo8(-16)
 109               	.L15:
  50:.././simpleserial/simpleserial.c **** 		else
 110               		.loc 1 50 16 view .LVU29
 111 0038 9081      		ld r25,Z
 112 003a 892B      		or r24,r25
 113 003c 8083      		st Z,r24
 114               	.LBE3:
  31:.././simpleserial/simpleserial.c **** 	{
 115               		.loc 1 31 26 is_stmt 1 view .LVU30
  31:.././simpleserial/simpleserial.c **** 	{
 116               		.loc 1 31 27 is_stmt 0 view .LVU31
 117 003e 4F5F      		subi r20,-1
 118 0040 5F4F      		sbci r21,-1
 119               	.LVL9:
  31:.././simpleserial/simpleserial.c **** 	{
 120               		.loc 1 31 27 view .LVU32
 121 0042 3196      		adiw r30,1
 122 0044 1296      		adiw r26,2
 123 0046 00C0      		rjmp .L3
 124               	.LVL10:
 125               	.L4:
 126               	.LBB4:
  38:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
 127               		.loc 1 38 8 is_stmt 1 view .LVU33
  38:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
 128               		.loc 1 38 23 is_stmt 0 view .LVU34
 129 0048 6FEB      		ldi r22,lo8(-65)
 130 004a 690F      		add r22,r25
  38:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'A' + 10;
 131               		.loc 1 38 10 view .LVU35
 132 004c 6630      		cpi r22,lo8(6)
 133 004e 00F4      		brsh .L6
  39:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'a' && n_lo <= 'f')
 134               		.loc 1 39 4 is_stmt 1 view .LVU36
  39:.././simpleserial/simpleserial.c **** 		else if(n_lo >= 'a' && n_lo <= 'f')
 135               		.loc 1 39 29 is_stmt 0 view .LVU37
 136 0050 9753      		subi r25,lo8(-(-55))
 137               	.LVL11:
 138               	.L14:
  41:.././simpleserial/simpleserial.c **** 		else
 139               		.loc 1 41 16 view .LVU38
 140 0052 9083      		st Z,r25
 141               	.LVL12:
  41:.././simpleserial/simpleserial.c **** 		else
 142               		.loc 1 41 16 view .LVU39
 143 0054 00C0      		rjmp .L5
 144               	.LVL13:
 145               	.L6:
  40:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
 146               		.loc 1 40 8 is_stmt 1 view .LVU40
  40:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
 147               		.loc 1 40 23 is_stmt 0 view .LVU41
 148 0056 6FE9      		ldi r22,lo8(-97)
 149 0058 690F      		add r22,r25
  40:.././simpleserial/simpleserial.c **** 			data_buf[i] = n_lo - 'a' + 10;
 150               		.loc 1 40 10 view .LVU42
 151 005a 6630      		cpi r22,lo8(6)
 152 005c 00F0      		brlo .L7
 153               	.LVL14:
 154               	.L12:
  43:.././simpleserial/simpleserial.c **** 
 155               		.loc 1 43 11 view .LVU43
 156 005e 81E0      		ldi r24,lo8(1)
 157 0060 90E0      		ldi r25,0
 158               	.LVL15:
  43:.././simpleserial/simpleserial.c **** 
 159               		.loc 1 43 11 view .LVU44
 160 0062 0895      		ret
 161               	.LVL16:
 162               	.L7:
  41:.././simpleserial/simpleserial.c **** 		else
 163               		.loc 1 41 4 is_stmt 1 view .LVU45
  41:.././simpleserial/simpleserial.c **** 		else
 164               		.loc 1 41 29 is_stmt 0 view .LVU46
 165 0064 9755      		subi r25,lo8(-(-87))
 166               	.LVL17:
  41:.././simpleserial/simpleserial.c **** 		else
 167               		.loc 1 41 29 view .LVU47
 168 0066 00C0      		rjmp .L14
 169               	.LVL18:
 170               	.L9:
  47:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
 171               		.loc 1 47 8 is_stmt 1 view .LVU48
  47:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
 172               		.loc 1 47 23 is_stmt 0 view .LVU49
 173 0068 9FEB      		ldi r25,lo8(-65)
 174 006a 980F      		add r25,r24
  47:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'A' + 10) << 4;
 175               		.loc 1 47 10 view .LVU50
 176 006c 9630      		cpi r25,lo8(6)
 177 006e 00F4      		brsh .L11
  48:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
 178               		.loc 1 48 4 is_stmt 1 view .LVU51
  48:.././simpleserial/simpleserial.c **** 		else if(n_hi >= 'a' && n_hi <= 'f')
 179               		.loc 1 48 31 is_stmt 0 view .LVU52
 180 0070 8753      		subi r24,55
 181 0072 990B      		sbc r25,r25
 182               	.LVL19:
 183               	.L16:
  50:.././simpleserial/simpleserial.c **** 		else
 184               		.loc 1 50 37 view .LVU53
 185 0074 64E0      		ldi r22,4
 186               		1:
 187 0076 880F      		lsl r24
 188 0078 991F      		rol r25
 189 007a 6A95      		dec r22
 190 007c 01F4      		brne 1b
 191 007e 00C0      		rjmp .L15
 192               	.LVL20:
 193               	.L11:
  49:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
 194               		.loc 1 49 8 is_stmt 1 view .LVU54
  49:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
 195               		.loc 1 49 23 is_stmt 0 view .LVU55
 196 0080 9FE9      		ldi r25,lo8(-97)
 197 0082 980F      		add r25,r24
  49:.././simpleserial/simpleserial.c **** 			data_buf[i] |= (n_hi - 'a' + 10) << 4;
 198               		.loc 1 49 10 view .LVU56
 199 0084 9630      		cpi r25,lo8(6)
 200 0086 00F4      		brsh .L12
  50:.././simpleserial/simpleserial.c **** 		else
 201               		.loc 1 50 4 is_stmt 1 view .LVU57
  50:.././simpleserial/simpleserial.c **** 		else
 202               		.loc 1 50 31 is_stmt 0 view .LVU58
 203 0088 8755      		subi r24,87
 204 008a 990B      		sbc r25,r25
 205               	.LVL21:
  50:.././simpleserial/simpleserial.c **** 		else
 206               		.loc 1 50 31 view .LVU59
 207 008c 00C0      		rjmp .L16
 208               	.LBE4:
 209               	.LBE5:
 210               		.cfi_endproc
 211               	.LFE11:
 213               	.global	simpleserial_addcmd
 215               	simpleserial_addcmd:
 216               	.LVL22:
 217               	.LFB14:
  64:.././simpleserial/simpleserial.c **** 
  65:.././simpleserial/simpleserial.c **** // Set up the SimpleSerial module by preparing internal commands
  66:.././simpleserial/simpleserial.c **** // This just adds the "v" command for now...
  67:.././simpleserial/simpleserial.c **** void simpleserial_init()
  68:.././simpleserial/simpleserial.c **** {
  69:.././simpleserial/simpleserial.c **** 	simpleserial_addcmd('v', 0, check_version);
  70:.././simpleserial/simpleserial.c **** }
  71:.././simpleserial/simpleserial.c **** 
  72:.././simpleserial/simpleserial.c **** int simpleserial_addcmd(char c, unsigned int len, uint8_t (*fp)(uint8_t*))
  73:.././simpleserial/simpleserial.c **** {
 218               		.loc 1 73 1 is_stmt 1 view -0
 219               		.cfi_startproc
 220               	/* prologue: function */
 221               	/* frame size = 0 */
 222               	/* stack size = 0 */
 223               	.L__stack_usage = 0
  74:.././simpleserial/simpleserial.c **** 	if(num_commands >= MAX_SS_CMDS)
 224               		.loc 1 74 2 view .LVU61
 225               		.loc 1 74 18 is_stmt 0 view .LVU62
 226 008e 2091 0000 		lds r18,num_commands
 227 0092 3091 0000 		lds r19,num_commands+1
 228               		.loc 1 74 4 view .LVU63
 229 0096 2031      		cpi r18,16
 230 0098 3105      		cpc r19,__zero_reg__
 231 009a 04F4      		brge .L20
  75:.././simpleserial/simpleserial.c **** 		return 1;
  76:.././simpleserial/simpleserial.c **** 
  77:.././simpleserial/simpleserial.c **** 	if(len >= MAX_SS_LEN)
 232               		.loc 1 77 2 is_stmt 1 view .LVU64
 233               		.loc 1 77 4 is_stmt 0 view .LVU65
 234 009c 6034      		cpi r22,64
 235 009e 7105      		cpc r23,__zero_reg__
 236 00a0 00F4      		brsh .L20
  78:.././simpleserial/simpleserial.c **** 		return 1;
  79:.././simpleserial/simpleserial.c **** 
  80:.././simpleserial/simpleserial.c **** 	commands[num_commands].c   = c;
 237               		.loc 1 80 2 is_stmt 1 view .LVU66
 238               		.loc 1 80 29 is_stmt 0 view .LVU67
 239 00a2 95E0      		ldi r25,lo8(5)
 240 00a4 929F      		mul r25,r18
 241 00a6 F001      		movw r30,r0
 242 00a8 939F      		mul r25,r19
 243 00aa F00D      		add r31,r0
 244 00ac 1124      		clr __zero_reg__
 245 00ae E050      		subi r30,lo8(-(commands))
 246 00b0 F040      		sbci r31,hi8(-(commands))
 247 00b2 8083      		st Z,r24
  81:.././simpleserial/simpleserial.c **** 	commands[num_commands].len = len;
 248               		.loc 1 81 2 is_stmt 1 view .LVU68
 249               		.loc 1 81 29 is_stmt 0 view .LVU69
 250 00b4 6183      		std Z+1,r22
 251 00b6 7283      		std Z+2,r23
  82:.././simpleserial/simpleserial.c **** 	commands[num_commands].fp  = fp;
 252               		.loc 1 82 2 is_stmt 1 view .LVU70
 253               		.loc 1 82 29 is_stmt 0 view .LVU71
 254 00b8 4383      		std Z+3,r20
 255 00ba 5483      		std Z+4,r21
  83:.././simpleserial/simpleserial.c **** 	num_commands++;
 256               		.loc 1 83 2 is_stmt 1 view .LVU72
 257               		.loc 1 83 14 is_stmt 0 view .LVU73
 258 00bc 2F5F      		subi r18,-1
 259 00be 3F4F      		sbci r19,-1
 260 00c0 2093 0000 		sts num_commands,r18
 261 00c4 3093 0000 		sts num_commands+1,r19
  84:.././simpleserial/simpleserial.c **** 
  85:.././simpleserial/simpleserial.c **** 	return 0;
 262               		.loc 1 85 2 is_stmt 1 view .LVU74
 263               		.loc 1 85 9 is_stmt 0 view .LVU75
 264 00c8 90E0      		ldi r25,0
 265 00ca 80E0      		ldi r24,0
 266               	.LVL23:
 267               		.loc 1 85 9 view .LVU76
 268 00cc 0895      		ret
 269               	.LVL24:
 270               	.L20:
  75:.././simpleserial/simpleserial.c **** 
 271               		.loc 1 75 10 view .LVU77
 272 00ce 81E0      		ldi r24,lo8(1)
 273 00d0 90E0      		ldi r25,0
 274               	.LVL25:
 275               	/* epilogue start */
  86:.././simpleserial/simpleserial.c **** }
 276               		.loc 1 86 1 view .LVU78
 277 00d2 0895      		ret
 278               		.cfi_endproc
 279               	.LFE14:
 281               	.global	simpleserial_init
 283               	simpleserial_init:
 284               	.LFB13:
  68:.././simpleserial/simpleserial.c **** 	simpleserial_addcmd('v', 0, check_version);
 285               		.loc 1 68 1 is_stmt 1 view -0
 286               		.cfi_startproc
 287               	/* prologue: function */
 288               	/* frame size = 0 */
 289               	/* stack size = 0 */
 290               	.L__stack_usage = 0
  69:.././simpleserial/simpleserial.c **** }
 291               		.loc 1 69 2 view .LVU80
 292 00d4 40E0      		ldi r20,lo8(gs(check_version))
 293 00d6 50E0      		ldi r21,hi8(gs(check_version))
 294 00d8 70E0      		ldi r23,0
 295 00da 60E0      		ldi r22,0
 296 00dc 86E7      		ldi r24,lo8(118)
 297 00de 0C94 0000 		jmp simpleserial_addcmd
 298               	.LVL26:
 299               		.cfi_endproc
 300               	.LFE13:
 302               	.global	simpleserial_put
 304               	simpleserial_put:
 305               	.LVL27:
 306               	.LFB16:
  87:.././simpleserial/simpleserial.c **** 
  88:.././simpleserial/simpleserial.c **** void simpleserial_get(void)
  89:.././simpleserial/simpleserial.c **** {
  90:.././simpleserial/simpleserial.c **** 	char ascii_buf[2*MAX_SS_LEN];
  91:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
  92:.././simpleserial/simpleserial.c **** 	char c;
  93:.././simpleserial/simpleserial.c **** 
  94:.././simpleserial/simpleserial.c **** 	// Find which command we're receiving
  95:.././simpleserial/simpleserial.c **** 	c = getch();
  96:.././simpleserial/simpleserial.c **** 
  97:.././simpleserial/simpleserial.c **** 	int cmd;
  98:.././simpleserial/simpleserial.c **** 	for(cmd = 0; cmd < num_commands; cmd++)
  99:.././simpleserial/simpleserial.c **** 	{
 100:.././simpleserial/simpleserial.c **** 		if(commands[cmd].c == c)
 101:.././simpleserial/simpleserial.c **** 			break;
 102:.././simpleserial/simpleserial.c **** 	}
 103:.././simpleserial/simpleserial.c **** 
 104:.././simpleserial/simpleserial.c **** 	// If we didn't find a match, give up right away
 105:.././simpleserial/simpleserial.c **** 	if(cmd == num_commands)
 106:.././simpleserial/simpleserial.c **** 		return;
 107:.././simpleserial/simpleserial.c **** 
 108:.././simpleserial/simpleserial.c **** 	// Receive characters until we fill the ASCII buffer
 109:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < 2*commands[cmd].len; i++)
 110:.././simpleserial/simpleserial.c **** 	{
 111:.././simpleserial/simpleserial.c **** 		c = getch();
 112:.././simpleserial/simpleserial.c **** 
 113:.././simpleserial/simpleserial.c **** 		// Check for early \n
 114:.././simpleserial/simpleserial.c **** 		if(c == '\n' || c == '\r')
 115:.././simpleserial/simpleserial.c **** 			return;
 116:.././simpleserial/simpleserial.c **** 
 117:.././simpleserial/simpleserial.c **** 		ascii_buf[i] = c;
 118:.././simpleserial/simpleserial.c **** 	}
 119:.././simpleserial/simpleserial.c **** 
 120:.././simpleserial/simpleserial.c **** 	// Assert that last character is \n or \r
 121:.././simpleserial/simpleserial.c **** 	c = getch();
 122:.././simpleserial/simpleserial.c **** 	if(c != '\n' && c != '\r')
 123:.././simpleserial/simpleserial.c **** 		return;
 124:.././simpleserial/simpleserial.c **** 
 125:.././simpleserial/simpleserial.c **** 	// ASCII buffer is full: convert to bytes 
 126:.././simpleserial/simpleserial.c **** 	// Check for illegal characters here
 127:.././simpleserial/simpleserial.c **** 	if(hex_decode(commands[cmd].len, ascii_buf, data_buf))
 128:.././simpleserial/simpleserial.c **** 		return;
 129:.././simpleserial/simpleserial.c **** 
 130:.././simpleserial/simpleserial.c **** 	// Callback
 131:.././simpleserial/simpleserial.c **** 	uint8_t ret[1];
 132:.././simpleserial/simpleserial.c **** 	ret[0] = commands[cmd].fp(data_buf);
 133:.././simpleserial/simpleserial.c **** 	
 134:.././simpleserial/simpleserial.c **** 	// Acknowledge (if version is 1.1)
 135:.././simpleserial/simpleserial.c **** #if SS_VER == SS_VER_1_1
 136:.././simpleserial/simpleserial.c **** 	simpleserial_put('z', 1, ret);
 137:.././simpleserial/simpleserial.c **** #endif
 138:.././simpleserial/simpleserial.c **** }
 139:.././simpleserial/simpleserial.c **** 
 140:.././simpleserial/simpleserial.c **** void simpleserial_put(char c, int size, uint8_t* output)
 141:.././simpleserial/simpleserial.c **** {
 307               		.loc 1 141 1 view -0
 308               		.cfi_startproc
 309               		.loc 1 141 1 is_stmt 0 view .LVU82
 310 00e2 EF92      		push r14
 311               	.LCFI0:
 312               		.cfi_def_cfa_offset 4
 313               		.cfi_offset 14, -3
 314 00e4 FF92      		push r15
 315               	.LCFI1:
 316               		.cfi_def_cfa_offset 5
 317               		.cfi_offset 15, -4
 318 00e6 0F93      		push r16
 319               	.LCFI2:
 320               		.cfi_def_cfa_offset 6
 321               		.cfi_offset 16, -5
 322 00e8 1F93      		push r17
 323               	.LCFI3:
 324               		.cfi_def_cfa_offset 7
 325               		.cfi_offset 17, -6
 326 00ea CF93      		push r28
 327               	.LCFI4:
 328               		.cfi_def_cfa_offset 8
 329               		.cfi_offset 28, -7
 330 00ec DF93      		push r29
 331               	.LCFI5:
 332               		.cfi_def_cfa_offset 9
 333               		.cfi_offset 29, -8
 334               	/* prologue: function */
 335               	/* frame size = 0 */
 336               	/* stack size = 6 */
 337               	.L__stack_usage = 6
 338 00ee 8B01      		movw r16,r22
 339 00f0 7A01      		movw r14,r20
 142:.././simpleserial/simpleserial.c **** 	// Write first character
 143:.././simpleserial/simpleserial.c **** 	putch(c);
 340               		.loc 1 143 2 is_stmt 1 view .LVU83
 341 00f2 0E94 0000 		call output_ch_0
 342               	.LVL28:
 144:.././simpleserial/simpleserial.c **** 
 145:.././simpleserial/simpleserial.c **** 	// Write each byte as two nibbles
 146:.././simpleserial/simpleserial.c **** 	for(int i = 0; i < size; i++)
 343               		.loc 1 146 2 view .LVU84
 344               	.LBB6:
 345               		.loc 1 146 6 view .LVU85
 346               		.loc 1 146 6 is_stmt 0 view .LVU86
 347 00f6 E701      		movw r28,r14
 348               		.loc 1 146 10 view .LVU87
 349 00f8 F12C      		mov r15,__zero_reg__
 350 00fa E12C      		mov r14,__zero_reg__
 351               	.LVL29:
 352               	.L23:
 353               		.loc 1 146 17 is_stmt 1 discriminator 1 view .LVU88
 354               		.loc 1 146 2 is_stmt 0 discriminator 1 view .LVU89
 355 00fc E016      		cp r14,r16
 356 00fe F106      		cpc r15,r17
 357 0100 04F0      		brlt .L24
 358               	.LBE6:
 147:.././simpleserial/simpleserial.c **** 	{
 148:.././simpleserial/simpleserial.c **** 		putch(hex_lookup[output[i] >> 4 ]);
 149:.././simpleserial/simpleserial.c **** 		putch(hex_lookup[output[i] & 0xF]);
 150:.././simpleserial/simpleserial.c **** 	}
 151:.././simpleserial/simpleserial.c **** 
 152:.././simpleserial/simpleserial.c **** 	// Write trailing '\n'
 153:.././simpleserial/simpleserial.c **** 	putch('\n');
 359               		.loc 1 153 2 is_stmt 1 view .LVU90
 360 0102 8AE0      		ldi r24,lo8(10)
 361               	/* epilogue start */
 154:.././simpleserial/simpleserial.c **** }
 362               		.loc 1 154 1 is_stmt 0 view .LVU91
 363 0104 DF91      		pop r29
 364 0106 CF91      		pop r28
 365 0108 1F91      		pop r17
 366 010a 0F91      		pop r16
 367               	.LVL30:
 368               		.loc 1 154 1 view .LVU92
 369 010c FF90      		pop r15
 370 010e EF90      		pop r14
 371               	.LVL31:
 153:.././simpleserial/simpleserial.c **** }
 372               		.loc 1 153 2 view .LVU93
 373 0110 0C94 0000 		jmp output_ch_0
 374               	.LVL32:
 375               	.L24:
 376               	.LBB7:
 148:.././simpleserial/simpleserial.c **** 		putch(hex_lookup[output[i] & 0xF]);
 377               		.loc 1 148 3 is_stmt 1 discriminator 3 view .LVU94
 148:.././simpleserial/simpleserial.c **** 		putch(hex_lookup[output[i] & 0xF]);
 378               		.loc 1 148 26 is_stmt 0 discriminator 3 view .LVU95
 379 0114 E991      		ld r30,Y+
 148:.././simpleserial/simpleserial.c **** 		putch(hex_lookup[output[i] & 0xF]);
 380               		.loc 1 148 30 discriminator 3 view .LVU96
 381 0116 E295      		swap r30
 382 0118 EF70      		andi r30,lo8(15)
 383 011a F0E0      		ldi r31,0
 148:.././simpleserial/simpleserial.c **** 		putch(hex_lookup[output[i] & 0xF]);
 384               		.loc 1 148 3 discriminator 3 view .LVU97
 385 011c E050      		subi r30,lo8(-(hex_lookup))
 386 011e F040      		sbci r31,hi8(-(hex_lookup))
 387 0120 8081      		ld r24,Z
 388 0122 0E94 0000 		call output_ch_0
 389               	.LVL33:
 149:.././simpleserial/simpleserial.c **** 	}
 390               		.loc 1 149 3 is_stmt 1 discriminator 3 view .LVU98
 149:.././simpleserial/simpleserial.c **** 	}
 391               		.loc 1 149 26 is_stmt 0 discriminator 3 view .LVU99
 392 0126 FE01      		movw r30,r28
 393 0128 3197      		sbiw r30,1
 149:.././simpleserial/simpleserial.c **** 	}
 394               		.loc 1 149 30 discriminator 3 view .LVU100
 395 012a E081      		ld r30,Z
 396 012c EF70      		andi r30,lo8(15)
 397 012e F0E0      		ldi r31,0
 149:.././simpleserial/simpleserial.c **** 	}
 398               		.loc 1 149 3 discriminator 3 view .LVU101
 399 0130 E050      		subi r30,lo8(-(hex_lookup))
 400 0132 F040      		sbci r31,hi8(-(hex_lookup))
 401 0134 8081      		ld r24,Z
 402 0136 0E94 0000 		call output_ch_0
 403               	.LVL34:
 146:.././simpleserial/simpleserial.c **** 	{
 404               		.loc 1 146 27 is_stmt 1 discriminator 3 view .LVU102
 146:.././simpleserial/simpleserial.c **** 	{
 405               		.loc 1 146 28 is_stmt 0 discriminator 3 view .LVU103
 406 013a 8FEF      		ldi r24,-1
 407 013c E81A      		sub r14,r24
 408 013e F80A      		sbc r15,r24
 409               	.LVL35:
 146:.././simpleserial/simpleserial.c **** 	{
 410               		.loc 1 146 28 discriminator 3 view .LVU104
 411 0140 00C0      		rjmp .L23
 412               	.LBE7:
 413               		.cfi_endproc
 414               	.LFE16:
 416               	.global	simpleserial_get
 418               	simpleserial_get:
 419               	.LFB15:
  89:.././simpleserial/simpleserial.c **** 	char ascii_buf[2*MAX_SS_LEN];
 420               		.loc 1 89 1 is_stmt 1 view -0
 421               		.cfi_startproc
 422 0142 8F92      		push r8
 423               	.LCFI6:
 424               		.cfi_def_cfa_offset 4
 425               		.cfi_offset 8, -3
 426 0144 9F92      		push r9
 427               	.LCFI7:
 428               		.cfi_def_cfa_offset 5
 429               		.cfi_offset 9, -4
 430 0146 AF92      		push r10
 431               	.LCFI8:
 432               		.cfi_def_cfa_offset 6
 433               		.cfi_offset 10, -5
 434 0148 BF92      		push r11
 435               	.LCFI9:
 436               		.cfi_def_cfa_offset 7
 437               		.cfi_offset 11, -6
 438 014a CF92      		push r12
 439               	.LCFI10:
 440               		.cfi_def_cfa_offset 8
 441               		.cfi_offset 12, -7
 442 014c DF92      		push r13
 443               	.LCFI11:
 444               		.cfi_def_cfa_offset 9
 445               		.cfi_offset 13, -8
 446 014e EF92      		push r14
 447               	.LCFI12:
 448               		.cfi_def_cfa_offset 10
 449               		.cfi_offset 14, -9
 450 0150 FF92      		push r15
 451               	.LCFI13:
 452               		.cfi_def_cfa_offset 11
 453               		.cfi_offset 15, -10
 454 0152 0F93      		push r16
 455               	.LCFI14:
 456               		.cfi_def_cfa_offset 12
 457               		.cfi_offset 16, -11
 458 0154 1F93      		push r17
 459               	.LCFI15:
 460               		.cfi_def_cfa_offset 13
 461               		.cfi_offset 17, -12
 462 0156 CF93      		push r28
 463               	.LCFI16:
 464               		.cfi_def_cfa_offset 14
 465               		.cfi_offset 28, -13
 466 0158 DF93      		push r29
 467               	.LCFI17:
 468               		.cfi_def_cfa_offset 15
 469               		.cfi_offset 29, -14
 470 015a CDB7      		in r28,__SP_L__
 471 015c DEB7      		in r29,__SP_H__
 472               	.LCFI18:
 473               		.cfi_def_cfa_register 28
 474 015e C15C      		subi r28,-63
 475 0160 D109      		sbc r29,__zero_reg__
 476               	.LCFI19:
 477               		.cfi_def_cfa_offset 208
 478 0162 CDBF      		out __SP_L__,r28
 479 0164 DEBF      		out __SP_H__,r29
 480               	/* prologue: function */
 481               	/* frame size = 193 */
 482               	/* stack size = 205 */
 483               	.L__stack_usage = 205
  90:.././simpleserial/simpleserial.c **** 	uint8_t data_buf[MAX_SS_LEN];
 484               		.loc 1 90 2 view .LVU106
  91:.././simpleserial/simpleserial.c **** 	char c;
 485               		.loc 1 91 2 view .LVU107
  92:.././simpleserial/simpleserial.c **** 
 486               		.loc 1 92 2 view .LVU108
  95:.././simpleserial/simpleserial.c **** 
 487               		.loc 1 95 2 view .LVU109
  95:.././simpleserial/simpleserial.c **** 
 488               		.loc 1 95 6 is_stmt 0 view .LVU110
 489 0166 0E94 0000 		call input_ch_0
 490               	.LVL36:
  97:.././simpleserial/simpleserial.c **** 	for(cmd = 0; cmd < num_commands; cmd++)
 491               		.loc 1 97 2 is_stmt 1 view .LVU111
  98:.././simpleserial/simpleserial.c **** 	{
 492               		.loc 1 98 2 view .LVU112
  98:.././simpleserial/simpleserial.c **** 	{
 493               		.loc 1 98 19 is_stmt 0 view .LVU113
 494 016a 4091 0000 		lds r20,num_commands
 495 016e 5091 0000 		lds r21,num_commands+1
 496 0172 20E0      		ldi r18,lo8(commands)
 497 0174 30E0      		ldi r19,hi8(commands)
  98:.././simpleserial/simpleserial.c **** 	{
 498               		.loc 1 98 10 view .LVU114
 499 0176 10E0      		ldi r17,0
 500 0178 00E0      		ldi r16,0
 501               	.LVL37:
 502               	.L26:
  98:.././simpleserial/simpleserial.c **** 	{
 503               		.loc 1 98 15 is_stmt 1 discriminator 1 view .LVU115
  98:.././simpleserial/simpleserial.c **** 	{
 504               		.loc 1 98 2 is_stmt 0 discriminator 1 view .LVU116
 505 017a 0417      		cp r16,r20
 506 017c 1507      		cpc r17,r21
 507 017e 04F4      		brge .+2
 508 0180 00C0      		rjmp .L28
 105:.././simpleserial/simpleserial.c **** 		return;
 509               		.loc 1 105 2 is_stmt 1 view .LVU117
 105:.././simpleserial/simpleserial.c **** 		return;
 510               		.loc 1 105 4 is_stmt 0 view .LVU118
 511 0182 4017      		cp r20,r16
 512 0184 5107      		cpc r21,r17
 513 0186 01F4      		brne .+2
 514 0188 00C0      		rjmp .L25
 515               	.L27:
 516 018a 9E01      		movw r18,r28
 517 018c 2F5F      		subi r18,-1
 518 018e 3F4F      		sbci r19,-1
 519 0190 7901      		movw r14,r18
  98:.././simpleserial/simpleserial.c **** 	{
 520               		.loc 1 98 10 discriminator 1 view .LVU119
 521 0192 D12C      		mov r13,__zero_reg__
 522 0194 C12C      		mov r12,__zero_reg__
 523 0196 4901      		movw r8,r18
 524               	.LBB8:
 109:.././simpleserial/simpleserial.c **** 	{
 525               		.loc 1 109 36 discriminator 1 view .LVU120
 526 0198 25E0      		ldi r18,lo8(5)
 527 019a 209F      		mul r18,r16
 528 019c C001      		movw r24,r0
 529 019e 219F      		mul r18,r17
 530 01a0 900D      		add r25,r0
 531 01a2 1124      		clr __zero_reg__
 532               	.LVL38:
 109:.././simpleserial/simpleserial.c **** 	{
 533               		.loc 1 109 36 discriminator 1 view .LVU121
 534 01a4 DC01      		movw r26,r24
 535 01a6 A050      		subi r26,lo8(-(commands+1))
 536 01a8 B040      		sbci r27,hi8(-(commands+1))
 537 01aa 5D01      		movw r10,r26
 538               	.L30:
 539               	.LVL39:
 109:.././simpleserial/simpleserial.c **** 	{
 540               		.loc 1 109 17 is_stmt 1 discriminator 1 view .LVU122
 109:.././simpleserial/simpleserial.c **** 	{
 541               		.loc 1 109 22 is_stmt 0 discriminator 1 view .LVU123
 542 01ac D501      		movw r26,r10
 543 01ae 8D91      		ld r24,X+
 544 01b0 9C91      		ld r25,X
 545 01b2 880F      		lsl r24
 546 01b4 991F      		rol r25
 109:.././simpleserial/simpleserial.c **** 	{
 547               		.loc 1 109 2 discriminator 1 view .LVU124
 548 01b6 C816      		cp r12,r24
 549 01b8 D906      		cpc r13,r25
 550 01ba 00F4      		brsh .+2
 551 01bc 00C0      		rjmp .L31
 552               	.LBE8:
 121:.././simpleserial/simpleserial.c **** 	if(c != '\n' && c != '\r')
 553               		.loc 1 121 2 is_stmt 1 view .LVU125
 121:.././simpleserial/simpleserial.c **** 	if(c != '\n' && c != '\r')
 554               		.loc 1 121 6 is_stmt 0 view .LVU126
 555 01be 0E94 0000 		call input_ch_0
 556               	.LVL40:
 122:.././simpleserial/simpleserial.c **** 		return;
 557               		.loc 1 122 2 is_stmt 1 view .LVU127
 122:.././simpleserial/simpleserial.c **** 		return;
 558               		.loc 1 122 4 is_stmt 0 view .LVU128
 559 01c2 8A30      		cpi r24,lo8(10)
 560 01c4 01F0      		breq .L32
 122:.././simpleserial/simpleserial.c **** 		return;
 561               		.loc 1 122 15 discriminator 1 view .LVU129
 562 01c6 8D30      		cpi r24,lo8(13)
 563 01c8 01F4      		brne .L25
 564               	.L32:
 127:.././simpleserial/simpleserial.c **** 		return;
 565               		.loc 1 127 2 is_stmt 1 view .LVU130
 127:.././simpleserial/simpleserial.c **** 		return;
 566               		.loc 1 127 29 is_stmt 0 view .LVU131
 567 01ca 25E0      		ldi r18,lo8(5)
 568 01cc 209F      		mul r18,r16
 569 01ce C001      		movw r24,r0
 570 01d0 219F      		mul r18,r17
 571 01d2 900D      		add r25,r0
 572 01d4 1124      		clr __zero_reg__
 573               	.LVL41:
 127:.././simpleserial/simpleserial.c **** 		return;
 574               		.loc 1 127 29 view .LVU132
 575 01d6 8C01      		movw r16,r24
 576               	.LVL42:
 127:.././simpleserial/simpleserial.c **** 		return;
 577               		.loc 1 127 29 view .LVU133
 578 01d8 0050      		subi r16,lo8(-(commands))
 579 01da 1040      		sbci r17,hi8(-(commands))
 127:.././simpleserial/simpleserial.c **** 		return;
 580               		.loc 1 127 5 view .LVU134
 581 01dc AE01      		movw r20,r28
 582 01de 4F57      		subi r20,127
 583 01e0 5F4F      		sbci r21,-1
 584 01e2 B401      		movw r22,r8
 585 01e4 F801      		movw r30,r16
 586 01e6 8181      		ldd r24,Z+1
 587 01e8 9281      		ldd r25,Z+2
 588 01ea 0E94 0000 		call hex_decode
 589               	.LVL43:
 127:.././simpleserial/simpleserial.c **** 		return;
 590               		.loc 1 127 4 view .LVU135
 591 01ee 892B      		or r24,r25
 592 01f0 01F4      		brne .L25
 131:.././simpleserial/simpleserial.c **** 	ret[0] = commands[cmd].fp(data_buf);
 593               		.loc 1 131 2 is_stmt 1 view .LVU136
 132:.././simpleserial/simpleserial.c **** 	
 594               		.loc 1 132 2 view .LVU137
 132:.././simpleserial/simpleserial.c **** 	
 595               		.loc 1 132 11 is_stmt 0 view .LVU138
 596 01f2 D801      		movw r26,r16
 597 01f4 1396      		adiw r26,3
 598 01f6 ED91      		ld r30,X+
 599 01f8 FC91      		ld r31,X
 600 01fa CE01      		movw r24,r28
 601 01fc 8F57      		subi r24,127
 602 01fe 9F4F      		sbci r25,-1
 603 0200 1995      		eicall
 604               	.LVL44:
 132:.././simpleserial/simpleserial.c **** 	
 605               		.loc 1 132 9 view .LVU139
 606 0202 CF53      		subi r28,lo8(-193)
 607 0204 DF4F      		sbci r29,hi8(-193)
 608 0206 8883      		st Y,r24
 609 0208 C15C      		subi r28,lo8(193)
 610 020a D040      		sbci r29,hi8(193)
 136:.././simpleserial/simpleserial.c **** #endif
 611               		.loc 1 136 2 is_stmt 1 view .LVU140
 612 020c AE01      		movw r20,r28
 613 020e 4F53      		subi r20,63
 614 0210 5F4F      		sbci r21,-1
 615 0212 61E0      		ldi r22,lo8(1)
 616 0214 70E0      		ldi r23,0
 617 0216 8AE7      		ldi r24,lo8(122)
 618 0218 0E94 0000 		call simpleserial_put
 619               	.LVL45:
 620               	.L25:
 621               	/* epilogue start */
 138:.././simpleserial/simpleserial.c **** 
 622               		.loc 1 138 1 is_stmt 0 view .LVU141
 623 021c CF53      		subi r28,63
 624 021e DF4F      		sbci r29,-1
 625 0220 CDBF      		out __SP_L__,r28
 626 0222 DEBF      		out __SP_H__,r29
 627 0224 DF91      		pop r29
 628 0226 CF91      		pop r28
 629 0228 1F91      		pop r17
 630 022a 0F91      		pop r16
 631 022c FF90      		pop r15
 632 022e EF90      		pop r14
 633 0230 DF90      		pop r13
 634 0232 CF90      		pop r12
 635 0234 BF90      		pop r11
 636 0236 AF90      		pop r10
 637 0238 9F90      		pop r9
 638 023a 8F90      		pop r8
 639 023c 0895      		ret
 640               	.LVL46:
 641               	.L28:
 100:.././simpleserial/simpleserial.c **** 			break;
 642               		.loc 1 100 3 is_stmt 1 view .LVU142
 643 023e 2B5F      		subi r18,-5
 644 0240 3F4F      		sbci r19,-1
 100:.././simpleserial/simpleserial.c **** 			break;
 645               		.loc 1 100 19 is_stmt 0 view .LVU143
 646 0242 F901      		movw r30,r18
 647 0244 3597      		sbiw r30,5
 100:.././simpleserial/simpleserial.c **** 			break;
 648               		.loc 1 100 5 view .LVU144
 649 0246 9081      		ld r25,Z
 650 0248 9817      		cp r25,r24
 651 024a 01F4      		brne .+2
 652 024c 00C0      		rjmp .L27
  98:.././simpleserial/simpleserial.c **** 	{
 653               		.loc 1 98 35 is_stmt 1 discriminator 2 view .LVU145
  98:.././simpleserial/simpleserial.c **** 	{
 654               		.loc 1 98 38 is_stmt 0 discriminator 2 view .LVU146
 655 024e 0F5F      		subi r16,-1
 656 0250 1F4F      		sbci r17,-1
 657               	.LVL47:
  98:.././simpleserial/simpleserial.c **** 	{
 658               		.loc 1 98 38 discriminator 2 view .LVU147
 659 0252 00C0      		rjmp .L26
 660               	.LVL48:
 661               	.L31:
 662               	.LBB9:
 111:.././simpleserial/simpleserial.c **** 
 663               		.loc 1 111 3 is_stmt 1 view .LVU148
 111:.././simpleserial/simpleserial.c **** 
 664               		.loc 1 111 7 is_stmt 0 view .LVU149
 665 0254 0E94 0000 		call input_ch_0
 666               	.LVL49:
 114:.././simpleserial/simpleserial.c **** 			return;
 667               		.loc 1 114 3 is_stmt 1 view .LVU150
 114:.././simpleserial/simpleserial.c **** 			return;
 668               		.loc 1 114 5 is_stmt 0 view .LVU151
 669 0258 8A30      		cpi r24,lo8(10)
 670 025a 01F0      		breq .L25
 114:.././simpleserial/simpleserial.c **** 			return;
 671               		.loc 1 114 16 discriminator 1 view .LVU152
 672 025c 8D30      		cpi r24,lo8(13)
 673 025e 01F0      		breq .L25
 117:.././simpleserial/simpleserial.c **** 	}
 674               		.loc 1 117 3 is_stmt 1 discriminator 2 view .LVU153
 117:.././simpleserial/simpleserial.c **** 	}
 675               		.loc 1 117 16 is_stmt 0 discriminator 2 view .LVU154
 676 0260 F701      		movw r30,r14
 677 0262 8193      		st Z+,r24
 678 0264 7F01      		movw r14,r30
 109:.././simpleserial/simpleserial.c **** 	{
 679               		.loc 1 109 42 is_stmt 1 discriminator 2 view .LVU155
 109:.././simpleserial/simpleserial.c **** 	{
 680               		.loc 1 109 43 is_stmt 0 discriminator 2 view .LVU156
 681 0266 FFEF      		ldi r31,-1
 682 0268 CF1A      		sub r12,r31
 683 026a DF0A      		sbc r13,r31
 684               	.LVL50:
 109:.././simpleserial/simpleserial.c **** 	{
 685               		.loc 1 109 43 discriminator 2 view .LVU157
 686 026c 00C0      		rjmp .L30
 687               	.LBE9:
 688               		.cfi_endproc
 689               	.LFE15:
 691               		.section	.rodata
 694               	hex_lookup:
 695 0000 3031 3233 		.ascii	"0123456789ABCDEF"
 695      3435 3637 
 695      3839 4142 
 695      4344 4546 
 696               		.local	num_commands
 697               		.comm	num_commands,2,1
 698               		.local	commands
 699               		.comm	commands,80,1
 700               		.text
 701               	.Letext0:
 702               		.file 2 "/usr/local/Cellar/avr-gcc/9.3.0/avr/include/stdint.h"
 703               		.file 3 "/usr/local/Cellar/avr-gcc/9.3.0/lib/avr-gcc/9/gcc/avr/9.3.0/include/stddef.h"
 704               		.file 4 "/usr/local/Cellar/avr-gcc/9.3.0/avr/include/stdlib.h"
 705               		.file 5 ".././hal/xmega/uart.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 simpleserial.c
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:2      *ABS*:000000000000003e __SP_H__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:3      *ABS*:000000000000003d __SP_L__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:4      *ABS*:000000000000003f __SREG__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:5      *ABS*:000000000000003b __RAMPZ__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:6      *ABS*:0000000000000034 __CCP__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:7      *ABS*:0000000000000000 __tmp_reg__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:8      *ABS*:0000000000000001 __zero_reg__
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:14     .text:0000000000000000 check_version
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:36     .text:0000000000000004 hex_decode
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:215    .text:000000000000008e simpleserial_addcmd
                             .bss:0000000000000000 num_commands
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:697    .bss:0000000000000002 commands
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:283    .text:00000000000000d4 simpleserial_init
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:304    .text:00000000000000e2 simpleserial_put
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:694    .rodata:0000000000000000 hex_lookup
/var/folders/k6/th7ms_x56q93d_45_7qvs5nw0000gn/T//ccn7PyKy.s:418    .text:0000000000000142 simpleserial_get

UNDEFINED SYMBOLS
output_ch_0
input_ch_0
__do_copy_data
__do_clear_bss
